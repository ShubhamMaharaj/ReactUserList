{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Button}from'react-bootstrap';import\"bootstrap/dist/css/bootstrap.min.css\";import{useNavigate}from'react-router-dom';import{useLocation}from'react-router-dom';import Spinner from'react-bootstrap/Spinner';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Edit(){const location=useLocation();console.log(location.state);const[Datakey,setDatakey]=useState();const[Newdata,setNewdata]=useState({name:'',age:'',id:'',email:''});const[loading,setLoading]=useState(false);const navigate=useNavigate();useEffect(()=>{setNewdata({...Newdata,name:location.state.data.name,age:location.state.data.age,id:location.state.data.id,email:location.state.data.email});setDatakey(location.state.data.datakey);},[]);const updateData=async(Datakey,Newdata)=>{try{setLoading(true);const response=await fetch(\"https://my-app-db-33c96-default-rtdb.firebaseio.com/my_app/\".concat(Datakey,\".json\"),{method:'PATCH',headers:{'Content-Type':'application/json'},body:JSON.stringify(Newdata)});if(response.ok){setLoading(false);}else{throw new Error('Failed to update data.');}}catch(error){console.error('Error:',error.message);}navigate('/');};if(loading){return/*#__PURE__*/_jsx(Spinner,{animation:\"border\",role:\"status\",style:{margin:'10rem'},children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{margin:'10rem auto',width:'300px',padding:'2rem'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Edit User\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Name\",value:Newdata.name,required:true,onChange:e=>setNewdata({...Newdata,name:e.target.value})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Age\",value:Newdata.age,required:true,onChange:e=>setNewdata({...Newdata,age:e.target.value})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Email.\",value:Newdata.email,required:true,onChange:e=>setNewdata({...Newdata,email:e.target.value})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{onClick:()=>updateData(Datakey,Newdata),children:\"Update\"})]});}export default Edit;","map":{"version":3,"names":["React","useState","useEffect","Button","useNavigate","useLocation","Spinner","jsx","_jsx","jsxs","_jsxs","Edit","location","console","log","state","Datakey","setDatakey","Newdata","setNewdata","name","age","id","email","loading","setLoading","navigate","data","datakey","updateData","response","fetch","concat","method","headers","body","JSON","stringify","ok","Error","error","message","animation","role","style","margin","children","className","width","padding","type","placeholder","value","required","onChange","e","target","onClick"],"sources":["/Users/shubhammaharaj/Projects/first react app/my-app/src/components/edit.jsx"],"sourcesContent":["import React, { useState ,useEffect } from 'react';\nimport { Button } from 'react-bootstrap';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { useNavigate } from 'react-router-dom';\nimport { useLocation } from 'react-router-dom';\nimport Spinner from 'react-bootstrap/Spinner';\n\nfunction Edit() {\n    const location = useLocation();\n\n   \n    console.log(location.state);\n\n    const [Datakey,setDatakey] = useState();\n\n    const [Newdata, setNewdata] = useState({\n        name:'',\n        age:'',\n        id:'',\n        email:''\n    });\n    const [loading, setLoading] = useState(false);\n    const navigate = useNavigate(); \n \n    useEffect(() => {\n\n        setNewdata({\n            ...Newdata,\n            name: location.state.data.name,\n            age: location.state.data.age,\n            id: location.state.data.id,\n            email: location.state.data.email\n        });\n        setDatakey(location.state.data.datakey);\n        \n        \n       \n      }, []);\n      const updateData = async (Datakey, Newdata) => {\n        try {\n            setLoading(true);\n            const response = await fetch(`https://my-app-db-33c96-default-rtdb.firebaseio.com/my_app/${Datakey}.json`, {\n                method: 'PATCH', \n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(Newdata) \n            });\n    \n            if (response.ok) {\n                setLoading(false);\n              \n                \n            } else {\n                throw new Error('Failed to update data.');\n            }\n        } catch (error) {\n            console.error('Error:', error.message);\n        }\n        navigate('/'); \n    };\n    \n    if (loading) {\n        return (\n            <Spinner animation=\"border\" role=\"status\" style={{margin:'10rem'}}>\n              <span className=\"visually-hidden\">Loading...</span>\n            </Spinner>\n          );\n    }\n\n    return (\n        <div className=\"card\" style={{ margin: '10rem auto', width: '300px',padding:'2rem' }}>\n            <h2>Edit User</h2><br></br>\n            <input type=\"text\" placeholder=\"Name\" value={Newdata.name} required onChange={(e) => setNewdata({ ...Newdata, name: e.target.value })} /><br></br>\n            <input type=\"text\" placeholder=\"Age\" value={Newdata.age} required  onChange={(e) => setNewdata({...Newdata, age: e.target.value })} /><br></br>\n            <input type=\"text\" placeholder=\"Email.\" value={Newdata.email} required  onChange={(e) => setNewdata({...Newdata, email: e.target.value })} /><br></br>\n            <Button onClick={() => updateData(Datakey, Newdata)}>Update</Button>\n        </div>\n    )\n}\n\nexport default Edit;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}